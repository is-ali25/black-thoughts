(this["webpackJsonpblack-thoughts"]=this["webpackJsonpblack-thoughts"]||[]).push([[0],{164:function(t,e,n){"use strict";n.r(e);var a=n(11),r=n.n(a),o=n(61),i=n.n(o),c=(n(80),n(9)),u=n(28),s=n(13),l=n.n(s),h=n(22),d=n(15),b=(n(82),n(68)),f=n(42),j=n.n(f),p=n(10),g=function(t){var e=t.data,n=t.changeDescription,r=Object(a.useRef)(),o=Object(a.useCallback)((function(t){var e=1+100/Math.hypot(t.x,t.y,t.z);r.current.cameraPosition({x:t.x*e,y:t.y*e,z:t.z*e},t,2e3),n([t.name,t.description,t.link,t.relatedAuthors])}),[r]);return Object(p.jsx)("div",{className:j.a.graph,children:Object(p.jsx)(b.a,{ref:r,graphData:e,width:900,height:j.a.graph.height,backgroundColor:"#5F9DA0",onNodeClick:o})})},O=n(67),v=n.n(O),m=function(t){var e=t.description;return Object(p.jsxs)("div",{className:v.a.overview,children:[Object(p.jsx)("h1",{children:"Black Thoughts"}),e.map((function(t){return t.includes("https://")?Object(p.jsx)("a",{href:t,children:Object(p.jsx)("h3",{children:t},t)}):Object(p.jsx)("h3",{children:t},t)}))]})},x=n(34),k=n.n(x),y=function(t){var e=t.formHandler,n=t.title,a=t.description,r=t.link,o=t.keywords,i=t.date,c=t.author,u=t.organization,s=t.location,l=t.relatedAuthors,h=t.citations,d=t.update;return Object(p.jsxs)("div",{className:k.a.submission,children:[Object(p.jsx)("h1",{children:"Add Submission"}),Object(p.jsxs)("form",{className:k.a.submissionForm,onSubmit:function(t){e(t)},children:[Object(p.jsx)("input",{type:"text",name:"title",placeholder:"title",value:n,onChange:function(t){return d(t.target.name,t.target.value)}}),Object(p.jsx)("textarea",{type:"text-area",name:"description",placeholder:"description",value:a,onChange:function(t){return d(t.target.name,t.target.value)}}),Object(p.jsx)("input",{type:"text",name:"link",placeholder:"link",value:r,onChange:function(t){return d(t.target.name,t.target.value)}}),Object(p.jsx)("input",{type:"text",name:"keywords",placeholder:"keywords",value:o,onChange:function(t){return d(t.target.name,t.target.value)}}),Object(p.jsx)("input",{type:"text",name:"date",placeholder:"date of publication",value:i,onChange:function(t){return d(t.target.name,t.target.value)}}),Object(p.jsx)("input",{type:"text",name:"author",placeholder:"author",value:c,onChange:function(t){return d(t.target.name,t.target.value)}}),Object(p.jsx)("input",{type:"text",name:"organization",placeholder:"organization",value:u,onChange:function(t){return d(t.target.name,t.target.value)}}),Object(p.jsx)("input",{type:"text",name:"location",placeholder:"location",value:s,onChange:function(t){return d(t.target.name,t.target.value)}}),Object(p.jsx)("input",{type:"text",name:"relatedAuthors",placeholder:"related authors",value:l,onChange:function(t){return d(t.target.name,t.target.value)}}),Object(p.jsx)("input",{type:"text",name:"citations",placeholder:"citations",value:h,onChange:function(t){return d(t.target.name,t.target.value)}}),Object(p.jsx)("input",{className:k.a.button,type:"submit",placeholder:"Submit"})]})]})},w=n(43),A=n.n(w),S=n(69);function C(t,e){return{id:e,name:t.title,link:t.link,keywords:t.keywords,date:t.date,author:t.author,organization:t.organization,location:t.location,relatedAuthors:t.relatedAuthors,citations:t.citations,val:1,description:t.description}}function _(t){if(t.length<=0)return[];var e=[],n=0;return t.forEach((function(t){var a=n;e.push(C(t,a)),n++})),e}function z(t){var e=[];t.forEach((function(t){var n={id:t.id,relatedAuthors:Object(S.a)(t.relatedAuthors.split(", "))};e.push(n)}));var n={};return e.forEach((function(t){t.relatedAuthors.forEach((function(e){e in n?n[e].push(t.id):n[e]=[t.id]}))})),n}function E(t,e){var n=!1;return e.forEach((function(e){e.source===t.source&&e.target===t.target&&(n=!0)})),n}var F={byAuthor:function(t){return function(t){if(Object.keys(t).length<=0)return[];var e=[];for(var n in t)for(var a=0;a<t[n].length;a++)for(var r=a+1;r<t[n].length;r++){var o={source:t[n][a],target:t[n][r]};E(o,e)||(console.log("new edge from ".concat(t[n][a]," to ").concat(t[n][r])),e.push(o))}return e}(t)}};var N=function(){var t=Object(a.useState)([]),e=Object(d.a)(t,2),n=e[0],r=e[1],o=Object(a.useState)({}),i=Object(d.a)(o,2),s=i[0],b=i[1],f=Object(a.useState)("byAuthor"),j=Object(d.a)(f,1)[0],O=Object(a.useState)({byAuthor:{}}),v=Object(d.a)(O,2),x=v[0],k=v[1],w=Object(a.useState)([]),S=Object(d.a)(w,2),E=S[0],N=S[1],D=Object(a.useState)(!1),B=Object(d.a)(D,2),J=B[0],I=B[1],L=Object(a.useState)({nodes:n,links:E}),P=Object(d.a)(L,2),T=P[0],H=P[1];Object(a.useEffect)((function(){(function(){var t=Object(h.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.a.get("http://localhost:5000/").then((function(t){t.data.length>0&&(console.log("got the goods"),r(_(t.data)))})).catch((function(t){return console.error(t)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){b(z(n)),k((function(t){var e=t;return e.byAuthor=z(n),e}))}),[n]),Object(a.useEffect)((function(){N(F[j](x[j])),I(!0)}),[s]),Object(a.useEffect)((function(){J&&(H({nodes:n,links:E}),I(!1))}),[J]);var M=Object(a.useState)(!1),G=Object(d.a)(M,2),Q=G[0],R=G[1],U=Object(a.useState)({title:"",description:"",link:"",keywords:"",date:"",author:"",organization:"",location:"",relatedAuthors:"",citations:""}),Z=Object(d.a)(U,2),q=Z[0],K=Z[1],V=function(){var t=Object(h.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,A.a.post("http://localhost:5000/add",q).then((function(t){r(n.push(C(t.data,n.length)))})).catch((function(t){return console.error(t)}));case 3:K({title:"",description:"",link:"",keywords:"",date:"",author:"",organization:"",location:"",relatedAuthors:"",citations:""});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),W=Object(a.useState)(["Associate for free"]),X=Object(d.a)(W,2),Y=X[0],$=X[1];return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(g,{data:T,changeDescription:function(t){R(!1),$(t)}}),Q?Object(p.jsx)(y,{title:q.title,description:q.description,link:q.link,keywords:q.keywords,date:q.date,author:q.author,organization:q.organization,location:q.location,relatedAuthors:q.relatedAuthors,citations:q.citations,update:function(t,e){K((function(n){return Object(u.a)(Object(u.a)({},n),{},Object(c.a)({},t,e))}))},formHandler:V}):Object(p.jsx)(m,{description:Y}),Object(p.jsx)("button",{className:"addSubBtn",onClick:function(){return R(!Q)},children:Q?"Close":"+"})]})},D=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,178)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),o(t),i(t)}))};i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(N,{})}),document.getElementById("root")),D()},34:function(t,e,n){t.exports={submission:"Submission_submission__29lZ6",annotation:"Submission_annotation__aalQ4",submissionForm:"Submission_submissionForm__33Jne"}},42:function(t,e,n){t.exports={graph:"Graph_graph__JwdI4"}},67:function(t,e,n){t.exports={overview:"Overview_overview__UlzA1",annotation:"Overview_annotation__9zp-L"}},80:function(t,e,n){},82:function(t,e,n){}},[[164,1,2]]]);
//# sourceMappingURL=main.4fa6cd1e.chunk.js.map